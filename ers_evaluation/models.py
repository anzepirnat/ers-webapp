from django.db import models

class Recommendation(models.Model):
    recommendation_text = models.CharField(max_length=300) # Recommendation generated by SVD
    cntx_t = models.CharField(max_length=100) # Context: time
    cntx_p = models.CharField(max_length=100) # Context: place
    answer = models.CharField(max_length=100) # Answer to what they do for good health
    llm_text = models.CharField(max_length=1000) # LLM text
    
    def __str__(self):
        return self.recommendation_text


class RecsContextsExplsA3(models.Model):
    elder_id = models.IntegerField() # uID
    activity_ids = models.CharField(max_length=100) # actID_lst
    activity_texts = models.CharField(max_length=300) # actTxt_lst
    context_time = models.CharField(max_length=100) # C_T
    context_place = models.CharField(max_length=100) # C_P
    explanation = models.CharField(max_length=1000) # Expl
    
    def __str__(self):
        return self.explanation    

    
class Evaluation(models.Model):
    #recommendation = models.ForeignKey(Recommendation, on_delete=models.CASCADE)
    recommendation = models.ForeignKey(RecsContextsExplsA3, on_delete=models.CASCADE)
    user_id = models.IntegerField() # User ID
    rating = models.IntegerField() # Rating of the LLM text
    comment = models.CharField(max_length=300) # Comment on the LLM text
    
    def __int__(self):
        return self.rating

